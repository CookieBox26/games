<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="noindex,noarchive,nofollow,noimageindex">
<title>送り仮名クイズ</title>
<style type="text/css">
<!--
body {
  margin: 15px;
  font-size: 125%;
  letter-spacing: 0.05em;
}
span.q {
  color: #0081c2;
  font-weight: bold;
}
div.ng span.q {
  color: #ef4026;
}
div.ok span.q {
  color: #409a04;
}
div.flex {
  display: flex;
  margin: 0 0 1.0em 0;
  gap: 0.5em;
}
div#q>div {
  border: 2px dotted #000000;
  padding: 0.2em 0.4em;
}
div#q>div.case {
  border: 2px solid #000000;
}
div#q>div:hover {
  background-color: lemonchiffon;
}
div#q>div.case:hover {
  background-color: transparent;
}
-->
</style>
<script type="text/javascript"><!--
const questions = [
  [
    '冬は水道の水が(ツメタイ)。',
    '冬は水道の水が(冷い)。',
    '*冬は水道の水が(冷たい)。',
    '冬は水道の水が(冷めたい)。',
  ],
  [
    'ご飯が(ヒエル)。',
    'ご飯が(冷る)。',
    '*ご飯が(冷える)。',
  ],
  [
    '焼き上がったケーキを(ヒヤス)。',
    '焼き上がったケーキを(冷す)。',
    '*焼き上がったケーキを(冷やす)。',
  ],
  [
    'お茶を(サマス)。',
    'お茶を(冷す)。',
    '*お茶を(冷ます)。',
  ],
  [
    'お風呂のお湯が(アツイ)。',
    '*お風呂のお湯が(熱い)。',
    'お風呂のお湯が(熱つい)。',
  ],
  [
    '紙飛行機を(トバス)。',
    '紙飛行機を(飛す)。',
    '*紙飛行機を(飛ばす)。',
  ],
  [
    '強い風が木の葉を(チラス)。',
    '強い風が木の葉を(散す)。',
    '*強い風が木の葉を(散らす)。',
  ],
  [
    '弟が部屋を(チラカス)。',
    '弟が部屋を(散す)。',
    '弟が部屋を(散かす)。',
    '*弟が部屋を(散らかす)。',
  ],
  [
    '読書はゆたかな心を(ヤシナウ)。',
    '*読書はゆたかな心を(養う)。',
    '読書はゆたかな心を(養なう)。',
    '読書はゆたかな心を(養しなう)。',
  ],
  [
    '鳥のひなが(ウマレル)。',
    '鳥のひなが(産る)。',
    '鳥のひなが(産れる)。',
    '*鳥のひなが(産まれる)。',
  ],
  [
    '人は必ず(オイル)。',
    '人は必ず(老る)。',
    '*人は必ず(老いる)。',
  ],
  [
    '新しい王様が国を(オサメル)。',
    '新しい王様が国を(治る)。',
    '*新しい王様が国を(治める)。',
    '新しい王様が国を(治さめる)。',
  ],
  [
    'おなかのいたみが(オサマル)。',
    'おなかのいたみが(治る)。',
    '*おなかのいたみが(治まる)。',
    'おなかのいたみが(治さまる)。',
  ],
  [
    'さつまいもが(ヤケタ)。',
    'さつまいもが(焼た)。',
    '*さつまいもが(焼けた)。',
  ],
  [
    'くつひもを(ムスブ)。',
    '*くつひもを(結ぶ)。',
    'くつひもを(結すぶ)。',
  ],
  [
    '夕方の空が赤みを(オビル)。',
    '夕方の空が赤みを(帯る)。',
    '*夕方の空が赤みを(帯びる)。',
  ],
  [
    '新しくマンションを(タテル)工事。',
    '新しくマンションを(建る)工事。',
    '*新しくマンションを(建てる)工事。',
  ],
  [
    'シャワーを(アビル)。',
    'シャワーを(浴る)。',
    '*シャワーを(浴びる)。',
  ],
  [
    '体重を(ハカル)。',
    '*体重を(量る)。',
    '体重を(量かる)。',
  ],
  [
    '牛にゅうパックを(タバネル)。',
    '牛にゅうパックを(束る)。',
    '*牛にゅうパックを(束ねる)。',
    '牛にゅうパックを(束ばねる)。',
  ],
  [
    '池の(マワリ)を歩く。',
    '*池の(周り)を歩く。',
    '池の(周わり)を歩く。',
  ],
  [
    '(アタリ)が暗くなる。',
    '*(辺り)が暗くなる。',
    '(辺たり)が暗くなる。',
  ],
  [
    '今日は気温が(ヒクイ)。',
    '*今日は気温が(低い)。',
    '今日は気温が(低くい)。',
  ],
  [
    '(アサイ)皿。',
    '*(浅い)皿。',
    '(浅さい)皿。',
  ],
  [
    '(カタイ)せんべいを食べる。',
    '*(固い)せんべいを食べる。',
    '(固たい)せんべいを食べる。',
  ],
  [
    '(キヨイ)小川。',
    '*(清い)小川。',
    '(清よい)小川。',
  ],
  [
    '(シズカ)な湖。',
    '*(静か)な湖。',
    '(静ずか)な湖。',
  ],
  [
    '今年(ハジメテ)の雪がふった。',
    '今年(初て)の雪がふった。',
    '*今年(初めて)の雪がふった。',
    '今年(初じめて)の雪がふった。',
  ],
  [
    'コップが(カケテ)しまった。',
    'コップが(欠て)しまった。',
    '*コップが(欠けて)しまった。',
  ],
  [
    '火事で家を(ウシナウ)。',
    '*火事で家を(失う)。',
    '火事で家を(失なう)。',
    '火事で家を(失しなう)。',
  ],
  [
    '食せん機で食器をあらう手間を(ハブク)。',
    '*食せん機で食器をあらう手間を(省く)。',
    '食せん機で食器をあらう手間を(省ぶく)。',
  ],
  [
    'リーダーの役目を(ハタス)。',
    'リーダーの役目を(果す)。',
    '*リーダーの役目を(果たす)。',
  ],
  [
    '車に気を(ツケル)。',
    '車に気を(付る)。',
    '*車に気を(付ける)。',
  ],
];
let qOrder = Array.from({ length: questions.length }, (_, i) => i);
let cursor = 0;
let answer = -1;
let accept = false;
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}
function setQuestion() {
  let qId = qOrder[cursor];
  let divQ = document.querySelector("#q");
  let qContent = '';
  let nS = 0;
  for (let s of questions[qId]) {
    let sMod = s.replace('(', '<span class="q">');
    sMod = sMod.replace(')', '</span>');
    if (nS == 0) {
      qContent += '<div class="case">' + sMod + '</div>';
      nS += 1;
      continue;
    }
    if (sMod[0] == '*') {
      answer = nS;
      sMod = sMod.slice(1);
    }
    let snS = String(nS);
    qContent += '<div id="s' + snS + '" onClick="submit(' + snS + ')">' + sMod + '</div>';
    nS += 1;
  }
  divQ.innerHTML = qContent;
  document.querySelector("#m").innerHTML = '<div>正しい送り仮名をクリックしてください。</div>';
  accept = true;
}
function init() {
  shuffleArray(qOrder);
  setQuestion();
}
function submit(sId) {
  if (!accept) {
    return;
  }
  accept = false;
  let msg = '';
  let sign = '🐛';
  if (sId == answer) {
    msg += '正解です。';
    sign = '🍉';
  } else {
    msg += '間違いです。';    
  }
  msg += '続けるにはここをクリックしてください。';
  document.querySelector("#m").innerHTML = '<div>' + msg + '</div>';
  document.querySelector("#m").onclick = function(){ next(); };
  let divA = document.querySelector('#s' + String(answer));
  let divR = document.querySelector('#r');
  let clz = (sign == '🐛') ? 'ng' : 'ok';
  divR.innerHTML = '<div class="' + clz + '">' + sign + divA.innerHTML + '</div>' + divR.innerHTML;
}
function next() {
  document.querySelector("#m").onclick = null;
  cursor += 1;
  if (cursor == questions.length || cursor == 10) {
    accept = false;
    document.querySelector("#m").innerHTML = '<div>これで終わりです。お疲れさまでした。</div>';
  } else {
    setQuestion();
  }
}
// --></script>
</head>
<body onload="init()">
<div id="c">
<div style="margin: 0.5em 0;" id="m"></div>
<div class="flex" style="flex-flow: column wrap;" id="q"></div>
<div style="margin: 0.5em 0;" id="r"></div>
</div>
</body>
</html>
